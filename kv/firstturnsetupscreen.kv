<FirstTurnSetupScreen>:
    name: 'first_turn_setup'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            source: 'assets/background.png'
            pos: self.pos
            size: self.size
    p1_name_label: p1_name_ft_lbl
    p1_ft_roll_button: p1_roll_ft_btn
    p1_ft_roll_display_label: p1_roll_ft_lbl
    p1_ft_choice_box: p1_choice_ft_box

    p2_name_label: p2_name_ft_lbl
    p2_ft_roll_button: p2_roll_ft_btn
    p2_ft_roll_display_label: p2_roll_ft_lbl
    p2_ft_choice_box: p2_choice_ft_box
    
    first_turn_status_label: subheader
    start_game_button: start_game_ft_btn

    BoxLayout: # Main Root
        orientation: 'vertical'
        HeaderLayout:
            title_text: 'First Turn Setup'
        SubHeaderLayout
            id: subheader
            text: 'Roll for First Turn. Winner chooses who goes first.'
        GridLayout:
            cols: 2
            padding: dp(20)
            spacing: dp(20)

            # Player 1 Area
            BoxLayout:
                orientation: 'vertical'
                spacing: dp(8)
                size_hint_y: None
                height: self.minimum_height
                Label:
                    id: p1_name_ft_lbl
                    text: 'Player 1'
                    font_name: 'InterBlack'
                    font_size: '20sp'
                    size_hint_y: None
                    height: dp(30)
                Label:
                    id: p1_roll_ft_lbl
                    text: ''
                    font_name: 'InterBlack'
                    font_size: '72sp'
                    size_hint_y: None
                    height: dp(72)
                BoxLayout: # P1 First Turn Choice Box
                    id: p1_choice_ft_box
                    orientation: 'vertical'
                    size_hint_y: None
                    height: dp(80) # Space for two buttons
                    spacing: dp(5)
                    opacity: 0 # Hidden initially
                Player1Button:
                    id: p1_roll_ft_btn
                    text: 'Roll'
                    on_press: root.roll_first_turn_initiative(1)
                    size_hint_y: None
                    height: dp(40)

            # Player 2 Area
            BoxLayout:
                orientation: 'vertical'
                spacing: dp(8)
                size_hint_y: None
                height: self.minimum_height
                Label:
                    id: p2_name_ft_lbl
                    text: 'Player 2'
                    font_name: 'InterBlack'
                    font_size: '20sp'
                    size_hint_y: None
                    height: dp(30)
                Label:
                    id: p2_roll_ft_lbl
                    text: ''
                    font_name: 'InterBlack'
                    font_size: '72sp'
                    size_hint_y: None
                    height: dp(72)
                BoxLayout: # P2 First Turn Choice Box
                    id: p2_choice_ft_box
                    orientation: 'vertical'
                    size_hint_y: None
                    height: dp(80)
                    spacing: dp(5)
                    opacity: 0
                Player2Button:
                    id: p2_roll_ft_btn
                    text: 'Roll'
                    on_press: root.roll_first_turn_initiative(2)
                    size_hint_y: None
                    height: dp(40)
            
        Widget: # Spacer
            size_hint_y: 1

        Button:
            id: start_game_ft_btn
            text: 'Start Game'
            font_size: '22sp'
            size_hint_y: None
            height: dp(50)
            on_press: root.start_game_action()
            disabled: True 