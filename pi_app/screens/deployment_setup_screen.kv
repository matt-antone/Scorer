#:kivy 2.2.1
#:import UI_STRINGS strings.UI_STRINGS

<DeploymentSetupScreen>:
    title: UI_STRINGS['deployment']['title']
    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: '20dp'
        spacing: '20dp'

        Label:
            text: UI_STRINGS['deployment']['title']
            font_size: '32sp'
            color: 1, 1, 1, 1
            size_hint_y: None
            height: '60dp'

        # Status Label
        Label:
            id: status_label
            text: "Players roll to determine Attacker/Defender."
            font_size: '24sp'
            color: 1, 1, 1, 1
            size_hint_y: None
            height: '40dp'

        # Player 1 Section
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: '200dp'

            Label:
                id: p1_name_label
                text: UI_STRINGS['common']['player1']
                font_size: '24sp'
                color: 1, 1, 1, 1
                size_hint_y: None
                height: '40dp'

            Label:
                id: p1_roll_label
                text: ""
                font_size: '36sp'
                color: 1, 1, 1, 1
                size_hint_y: None
                height: '60dp'

            Button:
                id: p1_roll_button
                text: UI_STRINGS['common']['roll']
                font_size: '20sp'
                size_hint_y: None
                height: '50dp'
                on_release: root.roll_player1()

            BoxLayout:
                id: p1_choice_box
                orientation: 'horizontal'
                size_hint_y: None
                height: '50dp'
                opacity: 0
                disabled: True

                Button:
                    text: "Attacker"
                    font_size: '20sp'
                    on_release: root.select_role('attacker')

                Button:
                    text: "Defender"
                    font_size: '20sp'
                    on_release: root.select_role('defender')

        # Player 2 Section
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: '200dp'

            Label:
                id: p2_name_label
                text: UI_STRINGS['common']['player2']
                font_size: '24sp'
                color: 1, 1, 1, 1
                size_hint_y: None
                height: '40dp'

            Label:
                id: p2_roll_label
                text: ""
                font_size: '36sp'
                color: 1, 1, 1, 1
                size_hint_y: None
                height: '60dp'

            Button:
                id: p2_roll_button
                text: UI_STRINGS['common']['roll']
                font_size: '20sp'
                size_hint_y: None
                height: '50dp'
                on_release: root.roll_player2()

            BoxLayout:
                id: p2_choice_box
                orientation: 'horizontal'
                size_hint_y: None
                height: '50dp'
                opacity: 0
                disabled: True

                Button:
                    text: "Attacker"
                    font_size: '20sp'
                    on_release: root.select_role('attacker')

                Button:
                    text: "Defender"
                    font_size: '20sp'
                    on_release: root.select_role('defender')

        # Continue Button
        Button:
            text: UI_STRINGS['deployment']['continue']
            font_size: '24sp'
            size_hint_y: None
            height: '48dp'
            on_release: root.select_role('attacker') 